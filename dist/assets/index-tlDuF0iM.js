var g=Object.defineProperty;var y=(d,e,n)=>e in d?g(d,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):d[e]=n;var h=(d,e,n)=>y(d,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();class w{constructor(){h(this,"events",[]);h(this,"weeklyTargetSeconds",25*3600)}setWeeklyTarget(e){this.weeklyTargetSeconds=e*3600}getWeeklyTarget(){return this.weeklyTargetSeconds}getStartOfWeek(){const e=new Date,n=e.getDay(),a=(n===0?-6:1)-n,t=new Date(e);return t.setDate(e.getDate()+a),t.setHours(0,0,0,0),t}getEventsThisWeek(){const e=this.getStartOfWeek();return this.events.filter(n=>n.time>=e)}calcWorkTimeThisWeek(){let e=0;const n=this.getEventsThisWeek();return n.forEach((a,t)=>{if(a.event==="WorkStart"){const r=n[t+1];r&&r.event==="WorkEnd"?e+=(r.time.getTime()-a.time.getTime())/1e3:e+=(new Date().getTime()-a.time.getTime())/1e3}}),e}getWeeklyProgress(){const e=this.calcWorkTimeThisWeek(),n=this.weeklyTargetSeconds;return{worked:e,target:n,percent:Math.min(100,e/n*100)}}addEvent(e,n=new Date){this.events.push({event:e,time:n})}getEvents(){return this.events}clearEvents(){this.events=[]}save(){const e=JSON.stringify(this.events);localStorage.setItem("timeEvents",e)}get lastEvent(){if(this.events.length!=0)return this.events[this.events.length-1]}load(){const e=localStorage.getItem("timeEvents");if(e){const n=JSON.parse(e);this.events=n.map(a=>({event:a.event,time:new Date(a.time)}))}}calcWorkTime(){let e=0;return this.events.length==0||this.events.forEach((n,a)=>{if(n.event==="WorkStart"){const t=this.events[a+1];t&&t.event==="WorkEnd"?e+=(t.time.getTime()-n.time.getTime())/1e3:e+=(new Date().getTime()-n.time.getTime())/1e3}}),e}createEventButton(e,n,a,t=!1){const r=document.createElement("div");r.className="event-button";const s=document.createElement("button"),o=document.createElement("button");return s.textContent="Start "+a,s.addEventListener("click",()=>{this.addEvent(e),s.style.display="none",o.style.display="block",this.save()}),s.style.display=t?"none":"block",r.appendChild(s),o.textContent="Stop "+a,o.addEventListener("click",()=>{this.addEvent(n),s.style.display="block",o.style.display="none",this.save()}),o.style.display=t?"block":"none",r.appendChild(o),r}reset(){this.events=[],localStorage.removeItem("timeEvents"),this.save()}}const E="modulepreload",T=function(d){return"/timeTracker/"+d},v={},W=function(e,n,a){let t=Promise.resolve();if(n&&n.length>0){let s=function(l){return Promise.all(l.map(c=>Promise.resolve(c).then(i=>({status:"fulfilled",value:i}),i=>({status:"rejected",reason:i}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));t=s(n.map(l=>{if(l=T(l),l in v)return;v[l]=!0;const c=l.endsWith(".css"),i=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${i}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":E,c||(m.as="script"),m.crossOrigin="",m.href=l,u&&m.setAttribute("nonce",u),document.head.appendChild(m),c)return new Promise((p,k)=>{m.addEventListener("load",p),m.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return t.then(s=>{for(const o of s||[])o.status==="rejected"&&r(o.reason);return e().catch(r)})};function S(d={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:a,onRegistered:t,onRegisteredSW:r,onRegisterError:s}=d;let o,u;const l=async(i=!0)=>{await u};async function c(){if("serviceWorker"in navigator){if(o=await W(async()=>{const{Workbox:i}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:i}},[]).then(({Workbox:i})=>new i("/timeTracker/sw.js",{scope:"/timeTracker/",type:"classic"})).catch(i=>{s==null||s(i)}),!o)return;o.addEventListener("activated",i=>{(i.isUpdate||i.isExternal)&&window.location.reload()}),o.addEventListener("installed",i=>{i.isUpdate||a==null||a()}),o.register({immediate:e}).then(i=>{r?r("/timeTracker/sw.js",i):t==null||t(i)}).catch(i=>{s==null||s(i)})}}return u=c(),l}const b=S({onNeedRefresh(){confirm("New content available. Refresh?")&&b(!0)},onOfflineReady(){console.log("App is ready to work offline")}}),f=new w;function P(){var t,r,s,o;f.load();let d=!1;((t=f.lastEvent)==null?void 0:t.event)=="WorkStart"&&(d=!0);const e=f.createEventButton("WorkStart","WorkEnd","Work",d);(r=document.getElementById("app"))==null||r.append(e);const n=document.createElement("div");(s=document.getElementById("app"))==null||s.append(n);const a=document.createElement("div");(o=document.getElementById("app"))==null||o.append(a),setInterval(()=>{const u=f.calcWorkTime();let l="";u>3600?l=Math.floor(u/3600)+" hours and "+Math.floor(u%3600/60)+" minutes":u>60?l=Math.floor(u/60)+" minutes and "+Math.floor(u%60)+" seconds":l=Math.floor(u)+" seconds",n.textContent=`Total Work Time: ${l}`;const c=f.getWeeklyProgress();let i="";c.worked>3600?i=Math.floor(c.worked/3600)+" hours and "+Math.floor(c.worked%3600/60)+" minutes":c.worked>60?i=Math.floor(c.worked/60)+" minutes and "+Math.floor(c.worked%60)+" seconds":i=Math.floor(c.worked)+" seconds",a.textContent=`This Week: ${i} (${c.percent.toFixed(1)}% of target)`},1e3),f.save()}P();window.time=f;
